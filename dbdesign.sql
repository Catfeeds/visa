DROP TABLE yii2_product;CREATE TABLE `yii2_product` (`id` int(11) NOT NULL COMMENT '产品id',`name` varchar(255) NOT NULL,`picture` varchar(255) NOT NULL,`cost` decimal(10,2) NOT NULL COMMENT '支出成本',`country_id` smallint(4) NOT NULL,PRIMARY KEY (`id`) );DROP TABLE yii2_combo;CREATE TABLE `yii2_combo` (`combo_id` int UNSIGNED NOT NULL AUTO_INCREMENT,`combo_name` varchar(0) CHARACTER SET utf8 NOT NULL COMMENT '套餐名称',`created_at` date NOT NULL,`updated_at` date NOT NULL,`uid` smallint NOT NULL COMMENT '用户id',`product_id` int NOT NULL,PRIMARY KEY (`combo_id`) );DROP TABLE yii2_order;CREATE TABLE `yii2_order` (`id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`pid` int(11) UNSIGNED NOT NULL COMMENT '产品id',`order_classify` char(1) NOT NULL DEFAULT 1 COMMENT '1网店2直客3同业',`order_type` char(1) NOT NULL DEFAULT 1 COMMENT '1正常2加急3特急',`order_date` date NOT NULL COMMENT '订单日期',`customer_id` int(11) NOT NULL COMMENT '客户id',`combo_id` int(11) NOT NULL COMMENT '套餐id',`custom_servicer_id` smallint(6) NOT NULL COMMENT '客服id',`transactor_id` smallint(6) NOT NULL COMMENT '办理人ID',`transactor_name` varchar(50) NOT NULL COMMENT '办理人名称',`product_id` int(11) NOT NULL COMMENT '产品id',`single_sum` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT '单项实收金额',`total_person` smallint(5) NOT NULL DEFAULT 0 COMMENT '人数',`balance_order` varchar(64) CHARACTER SET utf8 NOT NULL DEFAULT 0.00 COMMENT '补差订单号',`balance_sum` decimal(10,2) NOT NULL COMMENT '补差订单金额',`flushphoto_order` varchar(64) NOT NULL COMMENT '代冲洗照片订单号',`flushphoto_sum` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT '代冲洗照片订单金额',`carrier_order` varchar(64) NOT NULL COMMENT '快递费补差订单号',`carrier_sum` decimal(10,2) NOT NULL DEFAULT 0.00 COMMENT '快递费补差订单金额',`collect_date` date NOT NULL COMMENT '收资料日',`deliver_date` date NOT NULL COMMENT '送证日',`entry_date` date NOT NULL COMMENT '入馆日',`putsign_date` date NOT NULL COMMENT '出签日',`operator` varchar(50) NOT NULL COMMENT '操作员',`back_address` tinytext CHARACTER SET utf8 NOT NULL COMMENT '回寄地址',`back_addressee` varchar(50) CHARACTER SET utf8 NOT NULL COMMENT '收件人',`back_telphone` varchar(36) CHARACTER SET utf8 NOT NULL COMMENT '回寄地址',`delivergood_date` date NOT NULL COMMENT '发货日期',`deliver_order` varchar(64) CHARACTER SET utf8 NOT NULL COMMENT '订单编号',`delivercompany_id` smallint NOT NULL COMMENT '订单公司ID',`remark` tinytext CHARACTER SET utf8 NOT NULL COMMENT '备注',`receipt_date` date NOT NULL COMMENT '收款日期',`pay_date` date NOT NULL COMMENT '支付日期',`audit_status` char(1) NOT NULL DEFAULT 1 COMMENT '1审核中2审核未通过3审核通过',PRIMARY KEY (`id`) );CREATE TABLE `yii2_delivery_company` (`id` smallint(11) UNSIGNED NOT NULL AUTO_INCREMENT,`companyname` varchar(100) NOT NULL COMMENT '公司名称',PRIMARY KEY (`id`) );CREATE TABLE `yii2_transator` (`tid` int(11) UNSIGNED NOT NULL AUTO_INCREMENT,`name` varchar(50) CHARACTER SET utf8 NOT NULL,`phone` varchar(32) NOT NULL,`address` varchar(50) CHARACTER SET utf8 NOT NULL,PRIMARY KEY (`tid`) );CREATE TABLE `yii2_country` (`id` smallint(3) UNSIGNED NOT NULL AUTO_INCREMENT,`abbr` char(5) NOT NULL COMMENT '国家简写',`cinfo` varchar(50) NOT NULL COMMENT '国家中文',PRIMARY KEY (`id`) );ALTER TABLE `yii2_product` ADD CONSTRAINT `fcid` FOREIGN KEY (`country_id`) REFERENCES `yii2_country` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;ALTER TABLE `yii2_order` ADD CONSTRAINT `opid` FOREIGN KEY (`product_id`) REFERENCES `yii2_product` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;ALTER TABLE `yii2_order` ADD CONSTRAINT `tid` FOREIGN KEY (`transactor_id`) REFERENCES `yii2_transator` (`tid`) ON DELETE NO ACTION ON UPDATE NO ACTION;ALTER TABLE `yii2_order` ADD CONSTRAINT `did` FOREIGN KEY (`delivercompany_id`) REFERENCES `yii2_delivery_company` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;ALTER TABLE `yii2_combo` ADD CONSTRAINT `ppid` FOREIGN KEY (`product_id`) REFERENCES `yii2_product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;